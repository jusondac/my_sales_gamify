c
params
c
order.order_details
order
cart.order_details
cart.order_details.update_all(order_id: order.id)
cart.order_details.each do |order_detail|
        OrderDetail.update(
          order_id: order.id,
        )
      end
cart.order_details
order.id
order
order.oder_details
order.oder_detail
order.cart
order
c
cart.order_details.find_by(product_id: product_id)
cart.order_details.where(product_id: product_id)
cart.order_details
cart.order_detals
cart
cart.includes(:order_details)
 cart.order_details
c
OrderDetail.create!(
      cart_id: cart.id,
      product: product,
      quantity: quantity,
      total: product.price * quantity
    )
c
OrderDetail.create!(
      cart_id: cart.id,
      product: product,
      quantity: quantity,
      total: product.price * quantity
    )
OrderDetail.create(
      cart_id: cart.id,
      product: product,
      quantity: quantity,
      total: product.price * quantity
    )
cart.order_details
cart
c
cart.order_details.where(product: self).empty?
cart.order_details.where(product: self).nil?
cart.order_details.where(product: self)
cart.order_details
cart.order_detail
self
cart
c
z
c
cart
cart.order_details
cart
c
OrderServices.create_order(cart, user)
c
(0.2 * total_price).to_f.round(2)
(0.2 * total_price).to_f.rount(2)
(0.2 * total_price).to_f
total_price
0.2 * total_price
20/100 * total_price.to_f
20/100 * total_price
20% * 100
10%
c
Product.find(product_id)
product_id
cart
cart_detail
c
product_id
Product.find(product_id)
product
CartDetail.where(cart: cart, product_id: product_id)
CartDetail.where(cart: cart)
CartDetail.find_by(cart: cart, product_id: product_id)
cart.cart_details
cart_detail
cart
c
@cart = Cart.create!(user_id: Current.user.id, status: :active)
@cart = Cart.create(user_id: Current.user.id, status: :active)
Cart.where(user_id: Current.user.id, status: 1).empty?
Cart.where(user_id: Current.user.id, status:active).empty?
Cart.where(user_id: Current.user.id).empty?
Cart.where(user_id: Current.user.id).nil?
Cart.where(user_id: Current.user.id)
Cart.where(user_id: Current.user.id).nil?
Cart.where(user_id: Current.user.id)
@cart
c
@cart = Cart.where(user_id: Current.user.id)
@cart = Cart.where(user_id: Current.user.id).last
=> 10:     @cart = Cart.where(user_id: Current.user.id).last
 @cart
c
params[:product_id]
params
c
Current.user.role
Current.user
menu[:role]
menu
c
params
order_details
order_details = params[:order][:order_details_attributes]
[200~order_details = params[:order][:order_details_attributes]~
params
c
order_details
order_details.first
order_details = params[:order][:order_details_attributes]
order_details = _
params[:order][:order_details_attributes]
params[:order][:order_details]
params[:order]
params[:orders]
 params
c
params
 params
c
sesasdasd
c
cc
session[:supplier_id]
 @current_supplier
